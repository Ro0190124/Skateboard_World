@using Skateboard_World.Data;
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"] - Skateboard_World</title>
    <!--     Fonts and icons     -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
    <!-- CSS Files -->
    <link href="/css/assets/css/material-dashboard.css" rel="stylesheet" />
    <!--Lk thông báo-->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/js/toastr.js/toastr.min.css" />
    <script src="/js/toastr.js/toastr.min.js"></script>
  
</head>
<body class="dark-edition">
    <partial name="_Notification" />
    <div >
        <div class="wrapper ">
            <!--Đặt nền ở đây-->
            <div class="sidebar" data-color="purple" data-background-color="black" data-image="/css/assets/img/sidebar-2.jpg">
                <!--
                    Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"

                    Tip 2: you can also add an image using data-image tag
                -->
                <div class="logo">
                    <a asp-action="Index" asp-controller="Home" class="simple-text logo-normal">
                        Skateboard World
                    </a>
                </div>
                <div class="sidebar-wrapper">
                    <ul class="nav">
                        @{
                            var currentController = ViewContext.RouteData.Values["controller"].ToString();
                            var currentAction = ViewContext.RouteData.Values["action"].ToString();
                        }
                        <li class="nav-item @(currentController == "Home" ? "active" : "")">
                            <a class="nav-link" asp-controller="Home" asp-action="Index">
                                <i class="material-icons">dashboard</i>
                                <p>Trang Chủ</p>
                            </a>
                        </li>
                        <li class="nav-item @(currentController == "NGUOI_DUNG" ? "active" : "") ">
                            <a class="nav-link" asp-controller="NGUOI_DUNG" asp-action="Index">
                                <i class="material-icons">person</i>
                                <p>Người dùng</p>
                            </a>
                        </li>
                        <li class="nav-item @(currentController == "SAN_PHAM"  ? "active" : "")">
                            <a class="nav-link" asp-controller="SAN_PHAM" asp-action="Index">
                                <i class="material-icons">content_paste</i>
                            
                                <p>Sản Phẩm</p>
                            </a>
                        </li>
                        <li class="nav-item @(currentController == "HOA_DON"  ? "active" : "") ">
                            <a class="nav-link" asp-controller="HOA_DON" asp-action="Admin_Index">
                                <i class="material-icons">library_books</i>
                                <p>Hóa Đơn</p>
                            </a>
                        
                        </li>
                      @*   <li class="nav-item ">
                            <a class="nav-link" href="./icons.html">
                                <i class="material-icons">bubble_chart</i>
                                <p>Doanh Thu</p>
                            </a>
                        </li>
                   
                        <li class="nav-item ">
                            <a class="nav-link" href="./notifications.html">
                                <i class="material-icons">notifications</i>
                                <p>Thông báo</p>
                            </a>
                        </li> *@
                        <!-- <li class="nav-item active-pro ">
                              <a class="nav-link" href="./upgrade.html">
                                  <i class="material-icons">unarchive</i>
                                  <p>Upgrade to PRO</p>
                              </a>
                          </li> -->
                    </ul>
                </div>
            </div>
            <div class="main-panel">
                <!-- Navbar -->
                <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top " id="navigation-example">
                    <div class="container-fluid">
                        <div class="navbar-wrapper text-primary" style=" font-size: 42px " >
                            <blood>
                                @ViewData["Title"]
                            </blood>
                     
                        </div>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation" data-target="#navigation-example">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="navbar-toggler-icon icon-bar"></span>
                            <span class="navbar-toggler-icon icon-bar"></span>
                            <span class="navbar-toggler-icon icon-bar"></span>
                        </button>
                        <div class="collapse navbar-collapse justify-content-end">
                            <form class="navbar-form" method="get" asp-action="Index">
                                <div class="input-group no-border">
                                    <input type="text" name="search" class="form-control" placeholder="Tìm kiếm...">
                                    <button type="submit" class="btn btn-default btn-round btn-just-icon">
                                        <i class="material-icons">search</i>
                                        <div class="ripple-container"></div>
                                    </button>
                                </div>
                            </form>
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <a class="nav-link" href="javascript:void(0)">
                                        <i class="material-icons">dashboard</i>
                                        <p class="d-lg-none d-md-block">
                                            Stats
                                        </p>
                                    </a>
                                </li>
                               @*  <li class="nav-item dropdown">
                                    <a class="nav-link" href="javscript:void(0)" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="material-icons">notifications</i>
                                        <span class="notification">5</span>
                                        <p class="d-lg-none d-md-block">
                                            Some Actions
                                        </p>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                                        <a class="dropdown-item" href="javascript:void(0)">1</a>
                                        <a class="dropdown-item" href="javascript:void(0)">2</a>
                                        <a class="dropdown-item" href="javascript:void(0)">3</a>
                                        <a class="dropdown-item" href="javascript:void(0)">4</a>
                                        <a class="dropdown-item" href="javascript:void(0)">5</a>
                                    </div>
                                </li> *@
                                <li class="nav-item dropdown">
                                    @{
                                        var userId = Context.Request.Cookies["UserID"];

                                        string tenNguoiDung = string.Empty;
                                        var tennd = Context.RequestServices.GetRequiredService<ApplicationDbContext>().db_NGUOI_DUNG.FirstOrDefault(x => x.MaND == int.Parse(userId));
                                        tenNguoiDung = tennd?.TenND ?? string.Empty;
                                     

                                        ViewBag.TenNguoiDung = tenNguoiDung;
                                    }
                                   
                                    <a class="nav-link" href="javscript:void(0)" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        @ViewBag.TenNguoiDung
                                        <i class="material-icons">person</i>
                                        
                                        <p class="d-lg-none d-md-block">
                                            Some Actions
                                        </p>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                                        <a asp-controller="NGUOI_DUNG" asp-action="Edit" asp-route-id="@userId" class="dropdown-item">Sửa tài khoản</a>
                                        <a asp-action="DangXuat" asp-controller="Home" class="dropdown-item" >Đăng xuất</a>
                                    </div>
                                </li>
                          
                            </ul>
                        </div>
                    </div>
                </nav>
                <!-- End Navbar -->
                <div class="content">
                    @RenderBody()
                
                </div>
            
            </div>
        </div>
    </div>
    <script src="/css/assets/js/core/jquery.min.js"></script>
    <script src="/css/assets/js/core/popper.min.js"></script>
    <script src="/css/assets/js/core/bootstrap-material-design.min.js"></script>
    <script src="/css/assets/js/core/perfect-scrollbar.jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            // Javascript method's body can be found in assets/js/demos.js
            md.initDashboardPageCharts();

        });
    </script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
