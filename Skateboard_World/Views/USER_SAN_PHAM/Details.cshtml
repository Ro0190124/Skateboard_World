@model Skateboard_World.Models.SAN_PHAM
@{
    ViewData["Title"] = "Chi Tiết Sản Phẩm";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}


<div class="container mt-5">
    <div class="row">
        <!-- Product Image -->
        <div class="col-md-6">
            <div class="tab-content" id="pills-tabContent">
                <div class="modal_tab_button row">
                    <ul class="product_navactive col-3" role="tablist">
                      @*   <div class="image-container">
                            <button onclick="previous()">&lt;</button>
                            <img id="im1" src="" alt="" width="200" height="200">
                            <img id="im2" src="" alt="" width="200" height="200">
                            <img id="im3" src="" alt="" width="200" height="200">
                            <img id="im4" src="" alt="" width="200" height="200">
                            <button onclick="next()">&gt;</button>
                        </div> *@
                        @if (Model.DS_HINH_ANH != null && Model.DS_HINH_ANH.Any())
                        {
                            foreach (var img in Model.DS_HINH_ANH.Select((value, index) => new { Value = value, Index = index }))
                            {
                                <li>
                                    <a class="nav-link" href="#" role="tab">
                                        <img src="@img.Value.MediaHinhAnh" alt="@Model.TenSP" class="img-thumbnail" data-index="@img.Index">
                                    </a>

                                </li>

                                Console.WriteLine(img.Index)  ;
                            }
                        }
                        else
                        {
                            <p>Không có hình ảnh</p>
                        }
                    </ul>
                    <div class="tab-pane col-9 fade show active" id="tab1" role="tabpanel">
                        <div class="modal_tab_img">
                            <a href="#"><img id="selectedImage" src="@Model.DS_HINH_ANH.ElementAtOrDefault(0)?.MediaHinhAnh" alt=""></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
       
        <!-- Product Details -->
        <div class="col-md-6">
            <h1 class="display-4">@Model.TenSP</h1>
            
            <h3 class="my-4">Giá bán:  @Model.GiaBan đ</h3>
            
            <!-- Product Options -->
           
            <!-- Quantity and Add to Cart Button -->
            <div class="form-group">
                <label for="quantityInput">Số lượng</label>
                <input type="number" class="form-control" id="quantityInput" value="1" style="    width: 70px;" min="1" max="100">
            </div>
           </<br />
            <div class="form-group" style="margin-top: 20px;">
              
                <a class="btn btn-primary btn-lg btn-error" onclick="addToCart(@Model.MaSP,  $('#quantityInput').val()) ">Thêm vào giỏ</a>
                <form id="addToCartForm" method="post" asp-controller="CHI_TIET_GIO_HANG" asp-action="ThemVaoGioHang" style="display: none;">
                    <input type="hidden" name="id" id="productId" />
                    <input type="hidden" name="quantity" id="quantity" value="1" min="1" />
                </form>
            </div>
            <h2>Mô Tả sản phẩm</h2>
            <p>Mô tả: @Model.MoTa</p>

        </div>
       
    </div>
   
</div>

<script>
    function addToCart(productId, quantity) {
        // Set the values of the hidden inputs in the form
        document.getElementById('productId').value = productId;
        document.getElementById('quantity').value = quantity;

        // Submit the form
        document.getElementById('addToCartForm').submit();
    }
</script>
<style>
    

    .modal_tab_img {
        height: 400px;
        overflow: hidden;
    }

    .modal_tab_img img {
        object-fit: fill;
        height: 100%;
    }


</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  


</script>