@model Skateboard_World.Models.SAN_PHAM
@{
    ViewData["Title"] = "Chi Tiết Sản Phẩm";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}


<div class="container mt-5">
    <div class="row">
        <!-- Product Image -->
        <div class="col-md-6">
            <div class="tab-content" id="pills-tabContent">
                <div class="modal_tab_button row">
                    <ul class="product_navactive col-3" role="tablist">
                      @*   <div class="image-container">
                            <button onclick="previous()">&lt;</button>
                            <img id="im1" src="" alt="" width="200" height="200">
                            <img id="im2" src="" alt="" width="200" height="200">
                            <img id="im3" src="" alt="" width="200" height="200">
                            <img id="im4" src="" alt="" width="200" height="200">
                            <button onclick="next()">&gt;</button>
                        </div> *@
                        @if (Model.DS_HINH_ANH != null && Model.DS_HINH_ANH.Any())
                        {
                            foreach (var img in Model.DS_HINH_ANH.Select((value, index) => new { Value = value, Index = index }))
                            {
                                <li>
                                    <a class="nav-link" href="#" role="tab">
                                        <img src="@img.Value.MediaHinhAnh" alt="@Model.TenSP" class="img-thumbnail" data-index="@img.Index">
                                    </a>

                                </li>

                                Console.WriteLine(img.Index)  ;
                            }
                        }
                        else
                        {
                            <p>Không có hình ảnh</p>
                        }
                    </ul>
                    <div class="tab-pane col-9 fade show active" id="tab1" role="tabpanel">
                        <div class="modal_tab_img">
                            <a href="#"><img id="selectedImage" src="@Model.DS_HINH_ANH.ElementAtOrDefault(0)?.MediaHinhAnh" alt=""></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
       
        <!-- Product Details -->
        <div class="col-md-6">
            <h1 class="display-4">@Model.TenSP</h1>
            
            <h3 class="my-4">@Model.GiaBan đ</h3>
            
            <!-- Product Options -->
           
            <!-- Quantity and Add to Cart Button -->
            <div class="form-group">
                <label for="quantityInput">Số lượng</label>
                <input type="number" class="form-control" id="quantityInput" value="1" style="    width: 70px;">
            </div>
           </<br />
            <div class="form-group" style="margin-top: 20px;">
                <button class="btn btn-primary btn-lg btn-block">Thêm Vào Giỏ</button>
                <button class="btn btn-primary btn-lg btn-block">Mua Ngay</button>
            </div>
            
        </div>
        <p>Mô tả: @Model.MoTa</p> 
    </div>
   
</div>

<style>
    

    .modal_tab_img {
        height: 400px;
        overflow: hidden;
    }

    .modal_tab_img img {
        object-fit: fill;
        height: 100%;
    }


</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $(".nav-link").click(function (e) {
            e.preventDefault();

            // Get the index from the data-index attribute
            var index = $(this).find("img").data("index");
            console.log("Clicked image index: ", index);
            console.log("Hoạt động mà?");

            // Get the image URL from the clicked image's src attribute
            var imageUrl = $(this).find("img").attr("src");
            console.log("Image URL: ", imageUrl);

            // Update the selected image's src attribute
            $("#selectedImage").attr("src", imageUrl);

            // Optionally, update alt text or other attributes if needed
            // $("#selectedImage").attr("alt", $(this).find("img").attr("alt"));
        });
    });


</script>